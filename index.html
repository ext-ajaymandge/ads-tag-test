<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Google Ads Tag Test Page updated</title>
    
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      var maskedURL = window.location.origin;
      var maskedTitle = 'custom';

      gtag('set', {
        'page_location': maskedURL,
        'page_title': maskedTitle
          /*,
        'referrer': 'www.lahitapiola.fi/custom_refrrer/',
        'restricted_data_processing': true, // Essential for privacy compliance
        'ads_data_redaction': true // Strips PII from URLs if any scripts leak
        */
        });

        /*gtag('config', 'AW-123456789', {
        'send_page_view': false, // STOP the automatic "sniffing" hit
        'allow_enhanced_conversions': false, // STOP the browser scraper (handled by API)
        'allow_ad_personalization_signals': false, // KILL the linker/audience calls
        'page_location': maskedURL,
        'linker': { 'domains': [] } // Prevent URL decoration/leaks
        }); */
      // This line below is what fires the 'pageview' automatically on load

     // 5. INJECT THE LIBRARY
        var script = document.createElement('script');
        script.src = "https://www.googletagmanager.com/gtag/js?id=AW-123456789";
        script.async = true;
        document.head.appendChild(script);
        //gtag('config', 'AW-123456789');
        console.log('masked url', maskedURL);
        gtag('event', 'page_view', {
        'send_to': 'AW-123456789',
            'page_location': maskedURL,
            'page_title': maskedTitle
        });
        
    </script>
    <style>
        body {
            font-family: sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
            background-color: #f4f7f6;
            color: #333;
        }
        .container {
            text-align: center;
            padding: 40px;
            background: white;
            border-radius: 12px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            max-width: 500px;
        }
        h1 { color: #4285F4; }
        p { line-height: 1.6; }
        .status-box {
            margin-top: 20px;
            padding: 10px;
            border: 2px dashed #db4437;
            font-weight: bold;
        }
        button {
            background-color: #0F9D58;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 16px;
        }
        button:hover { background-color: #0b8048; }
    </style>
</head>
<body>

    <div class="container">
        <h1>Tag Testing Sandbox for gtag</h1>
        <p>This page is a clean environment to test your <strong>Google Ads Marketing Tags</strong>.</p>
        
        <div class="status-box">
            Ready for Tag Assistant
        </div>

        <p>If you are testing a <strong>Conversion Action</strong> (like a button click), use the button below:</p>
        
        <button id="conversion-button">Test Conversion Click</button>
    </div>

    <script>
        // Use this script if you need to trigger a specific event on button click
        document.getElementById('conversion-button').addEventListener('click', function() {
            console.log('Conversion button clicked!');
            // If you have an event snippet, you'd trigger it here:
            // gtag('event', 'conversion', {'send_to': 'AW-CONVERSION_ID'});
            alert('Event triggered! Check Tag Assistant to see if it fired.');
        });    
    </script>

</body>

</html>







